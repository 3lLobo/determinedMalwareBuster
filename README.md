# Determined Malware Busting


> TLDR: We teach our GPUs to bust Malware!!

## Introduction

In this project we explore the capability of ML to detect Malware.
### In-Memory

The first step focuses on the detection of malware in memory dumps.

Malware offten resides in the memory of a computer to avoid detection from anti-virus software.
The memory dump is a snapshot of the memory of a computer at a given time.

Since this is boring tabular data, we normalize the numeric columns and use a simple MLP to classify the data.
Once training the MLP yields success, we move to the coolest trend of the century: `throw transformers at everything` üèåüèΩ‚Äç‚ôÇÔ∏è

## Network data and Graph Convolutions

In a second step we focus on network data.
This step requires more prior worq since curated datasets are not available.
The approach is to gather `pcaps` from incidents, extract the network data with [zeek](https://www.zeek.org/), and label the data acording to the incident.

From here on we can build a graph dataset using the IP addresses as nodes and the network traffic as edges.

Now the power of Graph Convolutions can be fully released ‚ù§Ô∏è‚Äçüî•



## Determined AI

For distributed training and hyperparameter tuning, we use [Determined AI](https://determined.ai/). 

Additional libs can be installed via the 'startup-hook.sh' script.


### Setup

Spin up the containers:

```bash
docker compose up
```
Yes, use docker compose, not docker-compose, otherwiee the true/false arguments will throw an error.
Also make sure to set the `DET_MASTER` env variable to the IP of the docker host.

Here's one way to get your host IP:

```bash
dig <your-hostname> +short
```
Pick the last IP in the list.


The Determined web UI will be available at [http://localhost:8080](http://localhost:8080).
Default usernames are `determined` and `admin` with blank passwords.

### Running Experiments

Set the env:

```bash
export DET_MASTER=<master IP>
```

Install dependencies:

```bash
poetry install
```

Run the experiment:

```bash
det e create experiments/<pick-one>.yml .
```



## [Data](data/README.md)

Dataset is stored on my G-Drive. Here the direct download [link](https://docs.google.com/uc?export=download&id=1ot3t_5cAP2L3zP_tqK-1h2EM4WyMCeAI).

