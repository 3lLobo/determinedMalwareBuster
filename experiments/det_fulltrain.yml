name: malware_buster_core_fullmodel
description: Detect malware in Memory dumps. Train the full model.
max_restarts: 0
# data:
#   url: https://s3-us-west-2.amazonaws.com/determined-ai-test-data/pytorch_mnist.tar.gz
hyperparameters:
  n_layers:
    type: categorical
    # vals: [6, 8, 10, 12]
    vals: [8, 12]
  target_label:
    type: categorical
    vals: ["data_class", "malware_type_family"]
    # vals: ["data_class", "malware_type_family"]
    # vals: ["data_class", "malware_type", "malware_type_family"]
  # normalize:
  #   type: categorical
  #   vals: [true, false]
  normalize: true
  # learning_rate:
  #   type: double
  #   minval: 0.000001
  #   maxval: 0.001
  learning_rate: 1
  global_batch_size: 512
  n_filters1: 32
  n_filters2: 64
  # dropout:
  #   type: double
  #   minval: 0.2
  #   maxval: 0.6
  # gamma:
  #   type: double
  #   minval: 0.1
  #   maxval: 0.
  dropout: 0.5
  gamma: 0.1
  epochs: 1111
records_per_epoch: 60_000
searcher:
  name: adaptive_asha
  # metric: train_loss
  metric: test_loss
  smaller_is_better: true
  max_trials: 55
  max_length:
    epochs: 1111
  max_concurrent_trials: 8
profiling:
  enabled: true
entrypoint: python3 model_def_metrics.py
